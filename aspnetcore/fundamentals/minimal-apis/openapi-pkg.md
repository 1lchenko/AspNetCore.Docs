---
title: Get started with Microsoft.AspNetCore.OpenApi
author: captainsafia
description: Learn how to generate and customize OpenAPI documents in ASP.NET Core application
ms.author: safia
monikerRange: '>= aspnetcore-9.0'
ms.custom: mvc
ms.date: 05/06/2024
uid: fundamentals/minimal-apis/openapi-pkg
---
# Get started with Microsoft.AspNetCore.OpenApi

## Package installation

`Microsoft.AspNetCore.OpenApi` can be added with the following approaches:

### [Visual Studio](#tab/visual-studio)

* From the **Package Manager Console** window:
  * Go to **View** > **Other Windows** > **Package Manager Console**
  * Navigate to the directory in which the `.csproj` file exists
  * Execute the following command:

    ```powershell
    Install-Package Microsoft.AspNetCore.OpenApi -Version 9.0.0
    ```

* From the **Manage NuGet Packages** dialog:
  * Right-click the project in **Solution Explorer** > **Manage NuGet Packages**
  * Set the **Package source** to "nuget.org"
  * Ensure the "Include prerelease" option is enabled
  * Enter "Microsoft.AspNetCore.OpenApi" in the search box
  * Select the latest "Microsoft.AspNetCore.OpenApi" package from the **Browse** tab and click **Install**

### [Visual Studio Code](#tab/visual-studio-code)

Run the following command from the **Integrated Terminal**:

```dotnetcli
dotnet add package Microsoft.AspNetCore.OpenApi -v 9.0.0
```

### [.NET Core CLI](#tab/netcore-cli)

Run the following command:

```dotnetcli
dotnet add package Microsoft.AspNetCore.OpenApi -v 9.0.0
```

---

## Add and configure OpenAPI document generation

To get started generating OpenAPI documents for ASP.NET Core applications, add the OpenAPI-related services to `Program.cs`.

```csharp
builder.Services.AddOpenApi();
```

Then, enable the endpoint for viewing the OpenAPI document in JSON format.

```csharp
app.MapOpenApi();
```

Launch the app and navigate to `https://localhost:<port>/openapi/v1.json` to view the generated OpenAPI document.

## Options for customizing OpenAPI document generation

### Customizing OpenAPI version of generated document

By default, OpenAPI document generation will generate a document that is compliant with v3.0 of the OpenAPI spec. To modify this version, customize the options that are provided to the document generation services.

```csharp
builder.Services.AddOpenApi(options =>
{
    options.OpenApiVersion = OpenApiSpecVersion.OpenApi2_0;
});
```

### Customizing the OpenAPI endpoint route

By default, the OpenAPI endpoint registered via a call to `MapOpenApi` will expose the document at the `/openapi/{documentName}.json` endpoint. To customize the route the OpenAPI document is registered at, pass the route template as a parameter to the `MapOpenApi` call.

```csharp
app.MapOpenApi("/openapi/{documentName}/openapi.json");
```

## Customizing OpenAPI documents with transformers

Transformers provide an API for modifying the OpenAPI document that is generated by the framework with user-defined customizations. Transformers are useful for scenarios like adding parameters to all operations in a document, modifying descriptions for parameters or operations, and adding top-level information to the OpenAPI document.

Transformers fall into two categories:

* Document transformers have access to the entire OpenAPI document and can be used to make global modifications to the document.
* Operation transformers apply to each individual operation (combination of path + HTTP method) and can be used to modify parameters or responses on endpoints.

Transformers can be registered onto the document via the `UseTransformers` call on the `OpenApiOptions` object.

```csharp
builder.Services.AddOpenApi(options =>
{
    options.UseTransformer((document, context, cancellationToken) => {});
    options.UseTransformer(new MyDocumentTransformer());
    options.UseTransformer<MyDocumentTransformer>();
    options.UseOperationTransformer((operation, context, cancellationToken) => {});
})
```

The snippet below shows the three strategies for registering transformers onto the document:

* Registering a document transformer using a delegate
* Registering a document transformer using an instance of `IOpenApiDocumentTransformer`
* Registering a document transformer using a DI-activated `IOpenApiDocumentTransformer`
* Register an operation transformer using a delegate

### Execution order for transformers

Transformers execute in first-in first-out ordered based on registration. In the snippet below, the document transformer will have access to the modifications made by the operation transformer. 

```csharp
builder.Services.AddOpenApi(options =>
{
    options.UseOperationTransformer((operation, context, cancellationToken) => {});
    options.UseTransformer((document, context, cancellationToken) => {});
});
```


### Using document transformers

Document transformers have access to a context object that includes:

* The name of the document being modified
* The list of ApiDescriptionGroups associated with that document
* The IServiceProvider used in document generation

Document transformers also have access to the mutate the OpenAPI document that has been generated.

